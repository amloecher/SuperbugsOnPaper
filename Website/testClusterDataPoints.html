<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="utf-8" />
        <script type="text/javascript">
            var map, clusterLayer;
            
            function GetMap() {
                map = new Microsoft.Maps.Map('#myMap', {zoom: 12});
                map.setView({ zoom: 12, center: new Microsoft.Maps.Location(12.978955,77.574838) })
				
									  
				//Generate 1,000 random pushpins in the map view.
			    var pins = [] // Microsoft.Maps.TestDataGenerator.getPushpins(2);
				  
				  var latlon = ["12.978955,77.574838", "12.981472,77.619214", "12.980332,77.617265", "13.011561,77.606354", "12.975496,77.556826", "12.97518,77.570991", "12.971599,77.594563", "12.985405,77.525386"];
				  for (var i = 0; i < latlon.length; i++) {
					  var vals = latlon[i].split(',');

					  if(vals.length >= 2){
						  var pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(parseFloat(vals[0]), parseFloat(vals[1])));
						  //map.entities.push(pushpin);
						  pins.push(pushpin)
					  }
				  }
				
			  
			  //Create a ClusterLayer and add it to the map.
			  //Load the Clustering module.
                Microsoft.Maps.loadModule("Microsoft.Maps.Clustering", function () {
					//Microsoft.Maps.TestDataGenerator.getPushpins(1000);
					  
					  //Create a ClusterLayer and add it to the map.
					  clusterLayer = new Microsoft.Maps.ClusterLayer(pins);
					  map.layers.insert(clusterLayer);
				 });
		
		}
        </script>
        <script type='text/javascript' src='http://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=AsrBS8qpJvnE6tmo9JHh4vwTEQDKi0-CgH15IVV0XwV2tI_RfvJzfxTkpm7aF2ZF'async defer></script>
    </head>
    <body>
        <div id="myMap" style="position:relative;width:800px;height:600px;"></div>
    </body>
</html>

